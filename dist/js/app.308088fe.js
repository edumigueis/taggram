(function(t){function e(e){for(var n,A,a=e[0],c=e[1],i=e[2],l=0,m=[];l<a.length;l++)A=a[l],Object.prototype.hasOwnProperty.call(r,A)&&r[A]&&m.push(r[A][0]),r[A]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,i||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],n=!0,a=1;a<s.length;a++){var c=s[a];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=A(A.s=s[0]))}return t}var n={},r={app:0},o=[];function A(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,A),s.l=!0,s.exports}A.m=t,A.c=n,A.d=function(t,e,s){A.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},A.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},A.t=function(t,e){if(1&e&&(t=A(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(A.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)A.d(s,n,function(e){return t[e]}.bind(null,n));return s},A.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return A.d(e,"a",e),e},A.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},A.p="/taggram/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var i=0;i<a.length;i++)e(a[i]);var u=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"09cf":function(t,e,s){},"0f10":function(t,e,s){"use strict";s("09cf")},"2b0e5":function(t,e,s){"use strict";s("4fe5")},"36b7":function(t,e,s){},"3b08":function(t,e,s){"use strict";s("5696")},"3c15":function(t,e,s){"use strict";s("a5e5")},"40c3":function(t,e,s){t.exports=s.p+"img/taggram.10fe957c.svg"},"4fe5":function(t,e,s){},5474:function(t,e,s){"use strict";s("9b31")},5696:function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Modal",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],attrs:{title:"Ops... Algo deu errado.",message:"Estamos com problemas, tente novamente mais tarde."},on:{close:t.closeModal}}),t.currentUser?s("div",[s("Header",{attrs:{currentUser:t.currentUser}})],1):t._e(),s("div",{attrs:{id:"main-app-container"}},[s("div",{staticClass:"wrapper"},[t.post?s("div",{staticClass:"wrapper-item wrapper-item-big"},[s("img",{attrs:{src:t.post.photo,alt:"Post Photo"}})]):t._e(),t.post&&t.currentUser?s("Comments",{attrs:{post:t.post,currentUser:t.currentUser},on:{error:t.showModal}}):t._e()],1),t.post?s("MorePosts",{attrs:{postUuid:t.post.uuid}}):t._e(),s("Footer")],1)],1)},o=[],A=(s("d3b7"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-container"},[s("div",{staticClass:"modal"},[s("div",{staticClass:"top"},[s("h1",[t._v(t._s(t.title))]),s("p",[t._v(t._s(t.message))])]),s("div",{staticClass:"bottom",on:{click:t.close}},[s("h2",[t._v(" Close ")])])])])])}),a=[],c={name:"Modal",props:["message","title"],methods:{close:function(){this.$emit("close")}}},i=c,u=(s("92ae"),s("2877")),l=Object(u["a"])(i,A,a,!1,null,"2c63504f",null),m=l.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("img",{attrs:{src:s("40c3"),alt:""}}),n("div",{staticClass:"side-wrapper"},[n("h1",[t._v(t._s(t.currentUser.username))]),n("div",{staticClass:"image"},[t.currentUser.avatar?n("img",{attrs:{src:t.currentUser.avatar,alt:"User Avatar"}}):n("img",{attrs:{src:s("58b1"),alt:"User Avatar"}})])])])},f=[],d={name:"Header",props:["currentUser"]},p=d,h=(s("5474"),Object(u["a"])(p,g,f,!1,null,"10901b95",null)),B=h.exports,v=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("img",{attrs:{src:s("d818"),alt:""}})])}],E={name:"Footer"},Q=E,w=(s("3b08"),Object(u["a"])(Q,v,C,!1,null,"869575c4",null)),D=w.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper-item wrapper-item-small"},[s("div",{staticClass:"container comments"},[t.post.user?s("UserData",{attrs:{post:t.post}}):t._e(),null!=t.comments?s("div",{staticClass:"comments-wrapper"},t._l(t.comments,(function(e){return s("div",{key:e.uuid},[s("Comment",{attrs:{content:e,currentUser:t.currentUser},on:{error:t.sendError}})],1)})),0):t._e(),t.post?s("Statistics",{attrs:{post:t.post}}):t._e()],1)])},P=[],Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"image"},[t.post.user.avatar?n("img",{attrs:{src:t.post.user.avatar,alt:"User Avatar"}}):n("img",{attrs:{src:s("58b1"),alt:"User Avatar"}})]),t.post?n("div",{staticClass:"text-data"},[n("h3",[t._v(t._s(t.post.user.username))]),n("h4",[t._v(t._s(t.post.location.city)+", "+t._s(t.post.location.country))])]):t._e()])},O=[],I={name:"UserData",props:["post"]},M=I,U=(s("0f10"),Object(u["a"])(M,Z,O,!1,null,"f9255252",null)),H=U.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container flex"},[n("div",{staticClass:"img-wrapper"},[n("div",{staticClass:"image"},[t.content.user.avatar?n("img",{attrs:{src:t.content.user.avatar,alt:"User Avatar"}}):n("img",{attrs:{src:s("58b1"),alt:"User Avatar"}})])]),n("div",{staticClass:"text-data"},[n("div",{staticClass:"flex"},[n("p",[n("span",{staticClass:"username"},[t._v(t._s(t.content.user.username))]),n("span",{staticClass:"message"},[t._v(t._s(t.content.message))])])]),n("div",{staticClass:"bottom-text"},[n("h6",{staticClass:"time"},[t._v(t._s(t.timeFrom(t.content.created_at)))]),n("h6",{staticClass:"likes"},[t._v(t._s(t.comment.like_count)+" curtidas")])])]),n("div",{staticClass:"heart-wrapper"},[1!=t.comment.has_liked?n("HeartOutline",{attrs:{fillColor:"#262626",size:14},on:{click:function(e){return t.like(t.comment.uuid)}}}):n("Heart",{attrs:{fillColor:"#ED4956",size:14},on:{click:function(e){return t.removeLike(t.comment.uuid)}}})],1)])},k=[],y=s("3a9d"),F=s("4f97"),x={name:"Comment",props:["content","currentUser"],components:{Heart:y["a"],HeartOutline:F["a"]},data:function(){return{comment:this.content}},methods:{timeFrom:function(t){var e=new Date-new Date(t);e/=1e3;var s=Math.round(e),n=Math.round(s/60),r=Math.round(n/60),o=Math.round(r/24);return o>0?"".concat(o,"d"):r>0?"".concat(r,"h"):n>0?"".concat(n,"min"):isNaN(s)?t:"".concat(s,"sec")},like:function(t){var e,s=this,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.currentUser.username})};fetch("https://taggram.herokuapp.com/comments/".concat(t,"/like"),n).then((function(t){return e=t,t.json()})).then((function(t){return 200==e.status?s.comment=t:s.sendError(e)})).catch((function(t){return s.sendError(e),console.log(t)}))},removeLike:function(t){var e,s=this,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.currentUser.username})};fetch("https://taggram.herokuapp.com/comments/".concat(t,"/unlike"),n).then((function(t){return e=t,t.json()})).then((function(t){return 200==e.status?s.comment=t:s.sendError(e)})).catch((function(t){return s.sendError(e),console.log(t)}))},sendError:function(t){this.$emit("error",t)}}},j=x,N=(s("3c15"),Object(u["a"])(j,_,k,!1,null,"1d1b0582",null)),S=N.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[null!=t.post.comments?s("h4",[t._v(t._s(t.post.comments.length)+" comentários")]):t._e(),s("h6",[t._v(t._s(t.post.created_at))])])},G=[],Y={name:"Statistics",props:["post"]},K=Y,R=(s("89c4"),Object(u["a"])(K,L,G,!1,null,"29d6858a",null)),q=R.exports,W={name:"Comments",components:{UserData:H,Statistics:q,Comment:S},data:function(){return{comments:this.post.comments}},props:["post","currentUser"],methods:{sendError:function(t){this.$emit("error",t)}}},V=W,z=(s("2b0e5"),Object(u["a"])(V,b,P,!1,null,"679b2c7c",null)),J=z.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h3",{staticClass:"title"},[t._v("Mais publicações")]),t.relatedList.length>0?s("div",{staticClass:"grid"},t._l(t.relatedList,(function(t,e){return s("div",{key:e,staticClass:"img-wrapper"},[s("img",{attrs:{src:t.photo,alt:"Recommended Picture"}})])})),0):t._e()])},X=[],$=(s("4de4"),{name:"MorePosts",props:["postUuid"],data:function(){return{relatedList:[]}},created:function(){var t=this;fetch("https://taggram.herokuapp.com/posts/".concat(this.postUuid,"/related")).then((function(t){return t.json()})).then((function(e){return t.relatedList=e.filter((function(t){return t.comment_count>=2})),console.log(t.relatedList)})).catch((function(t){return console.log(t)}))}}),tt=$,et=(s("d27a"),Object(u["a"])(tt,T,X,!1,null,"00977aca",null)),st=et.exports,nt={name:"App",components:{Modal:m,Header:B,Footer:D,Comments:J,MorePosts:st},data:function(){return{currentUser:{},post:null,isModalVisible:!1}},methods:{getUser:function(){var t=this;fetch("https://taggram.herokuapp.com/me").then((function(t){return t.json()})).then((function(e){return t.currentUser=e,t.getPost()})).catch((function(e){return t.showModal(),console.log(e)}))},getPost:function(){var t=this;fetch("https://taggram.herokuapp.com/post?username="+this.currentUser.username).then((function(t){return t.json()})).then((function(e){return t.post=e})).catch((function(e){return t.showModal(),console.log(e)}))},showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1}},created:function(){this.getUser()}},rt=nt,ot=(s("034f"),Object(u["a"])(rt,r,o,!1,null,null,null)),At=ot.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(At)}}).$mount("#app")},"58b1":function(t,e){t.exports="data:image/jpeg;base64,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"},"70dd":function(t,e,s){},"85ec":function(t,e,s){},"89c4":function(t,e,s){"use strict";s("ce53")},"92ae":function(t,e,s){"use strict";s("36b7")},"9b31":function(t,e,s){},a5e5:function(t,e,s){},ce53:function(t,e,s){},d27a:function(t,e,s){"use strict";s("70dd")},d818:function(t,e,s){t.exports=s.p+"img/tagview.58fe6174.svg"}});
//# sourceMappingURL=app.308088fe.js.map